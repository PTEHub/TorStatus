# TorStatus

TorStatus是一个用于监控Tor网络状态的可视化应用程序。它基于stem库和Flask框架实现，主要用于whonix-gateway网关监控。

## 效果图
<img src=".\Document\b67c089c77390278b00febf2a50090c.jpg" alt="TorStatus Screenshot"  width="854" height="480">

## 功能特点

1. **节点展示**: 显示当前所有构建的Tor节点。
2. **流量监控**: 展示Tor网络最近3分钟内的上下行流量数据。
3. **通信链路**: 可视化当前活跃的通信链路路径。

## 技术栈

- Python
- stem (Tor控制器库)
- Flask (Web应用框架)
- Flask-SocketIO (用于WebSocket通信)
- GeoIP2 (用于IP地理位置查询)
- eventlet (并发网络库)

## 安装

1. 确保您的系统已安装Python。
2. 克隆或下载此仓库到本地。
3. 使用pip安装所需依赖：
   ```
   pip install flask flask-socketio stem geoip2 eventlet
   ```
4. 使用apt安装
   ```
   sudo apt install python3-flask python3-flask-socketio python3-eventlet python3-geoip2 python3-stem
   ```

## 使用方法

1. 在运行应用之前，您需要修改代码中的以下配置：

   ```python
   TOR_PASSWORD = 'welcome'
   TOR_PORT = 8052
   local_public_ip = {
       "ip": "8.8.8.8",
       "latitude": 37.5308,
       "longitude": 126.8751,
       "country": "kr",
       "type": "Local"
   }
   ```

   - `TOR_PASSWORD`: 这是Tor的密码，您需要将其修改为您的Tor密码。
   - `TOR_PORT`: 这是Tor的控制端口，默认是9051。如果您的Tor使用不同的控制端口，请相应地修改此值。
   - `local_public_ip`: 这是您本地的互联网地址信息。您需要根据自己的实际情况修改这些值。
     - 您可以在 https://ipinfo.io/ 获取您的IP地址、经纬度和国家信息。

2. 在命令行中导航到项目目录。

3. 运行以下命令启动应用：
   ```
   python app.py
   ```

4. 打开web浏览器，访问 `http://localhost:505` 来查看TorStatus界面。

注意：应用默认运行在505端口。如需更改端口，请修改`app.py`文件中的相关配置。

## 作者

PTEHub

## 贡献

如果您对这个项目有任何建议或发现了bug，欢迎通过GitHub issues或pull requests提交。

## 许可证

### TorStatus 自定义非商业开源许可证

版权所有 (c) 2024 PTEHub

在符合下列条件的情况下，特此免费向任何获得本软件及相关文档文件（以下简称"软件"）副本的人授予使用软件的权利，包括但不限于使用、复制、修改、合并、出版、分发、再许可和/或销售软件副本的权利：

1. 上述版权声明和本许可声明应包含在软件的所有副本或主要部分中。

2. 本软件仅可用于非商业目的。"非商业目的"是指不主要用于或意图获得商业优势或金钱补偿的目的。

3. 未经版权所有者明确的书面许可，不得将本软件用于任何商业目的。商业目的包括但不限于：
   a) 在商业产品或服务中集成或使用本软件
   b) 使用本软件提供商业服务
   c) 使用本软件创建用于销售的产品
   d) 将本软件用于任何可能产生收入的活动

4. 允许对软件进行修改和改进，但任何衍生作品也必须在相同的许可条款下分发。

5. 本软件按"原样"提供，不提供任何明示或暗示的保证，包括但不限于对适销性、特定用途适用性和非侵权性的保证。在任何情况下，作者或版权持有人均不对任何索赔、损害或其他责任负责，无论是在合同诉讼、侵权行为或其他方面，由软件或软件的使用或其他交易引起的、与之相关的或与之有关的任何责任。

6. 本许可证不授予使用任何商标、服务标记、标识或项目名称"TorStatus"的权利，除非为了合理和习惯使用中描述软件的来源和复制版权声明文件的内容。

7. 如果您对本软件进行了修改，您必须在修改后的文件中明确注明，并详细说明所做的修改。

8. 如果您分发本软件，您必须保留本软件中的所有版权、专利、商标和归属声明。

9. 本许可证可能会不时修订。使用本软件即表示您同意接受任何此类修订的约束。

使用本软件即表示您同意遵守上述许可条款。如果您不同意这些条款，请不要使用、修改或分发本软件。

## 联系方式

Twitter (X): [@PTEHubOnline](https://twitter.com/PTEHubOnline)
